{% extends "base.html" %}

{% block title %}API Documentation - Talent Flow{% endblock %}

{% block content %}
<div class="row mb-4">
    <div class="col-md-12">
        <h2 class="mb-3">API Documentation</h2>
        <p class="text-muted">Below is a list of all working and allowed API endpoints for the Talent Flow System.</p>
    </div>
</div>

<div class="accordion" id="apiAccordion">

    <!-- GET /api/employees -->
    <div class="accordion-item">
        <h2 class="accordion-header" id="headingOne">
            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne">
                <span class="badge bg-success me-2">GET</span> <span class="fw-bold">/api/employees</span>
            </button>
        </h2>
        <div id="collapseOne" class="accordion-collapse collapse show" data-bs-parent="#apiAccordion">
            <div class="accordion-body">
                <p>Retrieves a list of all employees.</p>
                <h6>Response Example:</h6>
                <pre class="bg-light p-3 rounded"><code>[
    {
        "id": 1,
        "name": "Alice",
        "email": "alice@example.com",
        "department": "Engineering"
    },
    ...
]</code></pre>
            </div>
        </div>
    </div>

    <!-- POST /api/employees -->
    <div class="accordion-item">
        <h2 class="accordion-header" id="headingTwo">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                data-bs-target="#collapseTwo">
                <span class="badge bg-warning text-dark me-2">POST</span> <span class="fw-bold">/api/employees</span>
            </button>
        </h2>
        <div id="collapseTwo" class="accordion-collapse collapse" data-bs-parent="#apiAccordion">
            <div class="accordion-body">
                <p>Creates a new employee.</p>
                <h6>Request Body:</h6>
                <pre class="bg-light p-3 rounded"><code>{
    "name": "John Doe",
    "email": "john@example.com",
    "department": "Sales",
    "designation": "Manager",
    "phone": "1234567890",
    "address": "123 Main St"
}</code></pre>
            </div>
        </div>
    </div>

    <!-- GET /api/employees/<id> -->
    <div class="accordion-item">
        <h2 class="accordion-header" id="headingThree">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                data-bs-target="#collapseThree">
                <span class="badge bg-success me-2">GET</span> <span class="fw-bold">/api/employees/&lt;id&gt;</span>
            </button>
        </h2>
        <div id="collapseThree" class="accordion-collapse collapse" data-bs-parent="#apiAccordion">
            <div class="accordion-body">
                <p>Retrieves details of a specific employee.</p>
                <h6>Response Example:</h6>
                <pre class="bg-light p-3 rounded"><code>{
    "id": 1,
    "name": "Alice",
    "email": "alice@example.com",
    "department": "Engineering",
    "designation": "Senior Dev",
    "date_of_joining": "2023-01-15"
}</code></pre>
            </div>
        </div>
    </div>

    <!-- POST /api/attendance/mark -->
    <div class="accordion-item">
        <h2 class="accordion-header" id="headingFour">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                data-bs-target="#collapseFour">
                <span class="badge bg-warning text-dark me-2">POST</span> <span
                    class="fw-bold">/api/attendance/mark</span>
            </button>
        </h2>
        <div id="collapseFour" class="accordion-collapse collapse" data-bs-parent="#apiAccordion">
            <div class="accordion-body">
                <p>Marks attendance (Punch In / Punch Out).</p>
                <h6>Request Body:</h6>
                <pre class="bg-light p-3 rounded"><code>{
    "employee_id": 1,
    "date": "2023-10-27",
    "in_time": "09:00" 
    // OR "out_time": "18:00"
}</code></pre>
            </div>
        </div>
    </div>

    <!-- GET /api/attendance/<employee_id> -->
    <div class="accordion-item">
        <h2 class="accordion-header" id="headingFive">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                data-bs-target="#collapseFive">
                <span class="badge bg-success me-2">GET</span> <span
                    class="fw-bold">/api/attendance/&lt;employee_id&gt;</span>
            </button>
        </h2>
        <div id="collapseFive" class="accordion-collapse collapse" data-bs-parent="#apiAccordion">
            <div class="accordion-body">
                <p>Retrieves attendance history for a specific employee.</p>
                <h6>Response Example:</h6>
                <pre class="bg-light p-3 rounded"><code>[
    {
        "date": "2023-10-27",
        "in_time": "09:00",
        "out_time": "18:00",
        "status": "Present"
    }
]</code></pre>
            </div>
        </div>
    </div>

</div>
{% endblock %}